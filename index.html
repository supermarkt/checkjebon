<!DOCTYPE html>
<html>
	<head>
		<title>Checkjebon.nl - Goedkopere boodschappen</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="icon" href="/favicon.ico" type="image/x-icon">
		<meta name="description" content="Scan je supermarktbon om er achter te komen waar je goedkoper kunt winkelen." />
		<link rel="stylesheet" href="/css/w3/w3.css">
		<link rel="stylesheet" href="/css/site/style.css">
		<link rel="stylesheet" href="/css/googlefonts/lato.css">
		<link rel="stylesheet" href="/css/fontawesome/font-awesome.min.css">
		<!-- Vue -->
		<script src="/js/vue/vue.min.js"></script>
		<!-- Text recognition -->
		<script src="/js/tesseract/tesseract.min.js"></script>
		<script src="/js/fuse/fuse.js"></script>
	</head>
	<body class="w3-gray">
		<div class="w3-content" style="max-width: 2000px; padding-top: 0px;" id="checkjebon">
		
			<div class="w3-blue-grey">
				<div class="w3-container w3-content w3-padding-64" style="max-width:800px">
					<h2 class="w3-wide w3-center caps">Checkjebon.nl</h2>
					<p class="w3-opacity w3-center">Bekijk wat je kwijt zou zijn voor dezelfde boodschappen bij een andere supermarkt en bespaar elke keer dat je naar de winkel gaat.</p>
					<div class="w3-center">
						<button class="w3-btn w3-ripple w3-amber" @click="scan" :disabled="isSearching"><i class="fa fa-camera"></i> Scan je kassabon</button>
						<button class="w3-btn w3-ripple w3-light-gray" @click="example" :disabled="isSearching">Voorbeeld</button>
						<input type="file" id="file-selector" style="display: none;">
					</div>
					<p class="w3-center">
						- of -
					</p>
					<div class="w3-center">
						<label>
							<p>Schrijf hier je boodschappenlijstje:</p>
							<textarea class="w3-input" style="height: 300px;" v-model="shoppinglist" @input="update" :disabled="isSearching" placeholder="Tik hier je boodschappen in of gebruik de scan knop om je laatste kassabon te scannen.&#10;&#10;halfvolle melk&#10;volkoren brood&#10;zilvervliesrijst&#10;bananen&#10;stokbrood&#10;falafel"></textarea>
						</label>
					</div>
					<p class="w3-center">
						Op zoek naar een specifiek merk? Tik de merknaam er dan bij.
					</p>
					<p class="w3-center">
						<button class="w3-btn w3-ripple w3-amber" @click="search" :disabled="isSearching"><i class="fa fa-search"></i> {{ isSearching ? "Bezig met zoeken..." : "Zoek prijzen" }}</button>
						<button class="w3-btn w3-ripple w3-light-gray" @click="share" :disabled="isSearching"><i class="fa fa-share-alt"></i> Delen</button>
						<button class="w3-btn w3-ripple w3-light-gray" @click="clear" :disabled="isSearching"><i class="fa fa-trash"></i></button>
					</p>
				</div>
			</div>

			<div class="w3-light-gray" id="supermarkets" v-show="supermarkets.length > 0">
				<div class="w3-container w3-content w3-padding-64" style="max-width: 800px">
				
					<h2 class="w3-wide w3-center caps">Totaalprijs</h2>
					
					<ul class="w3-ul w3-card-4 w3-light-gray w3-hoverable">
						<li class="w3-bar" :class="{'w3-amber': supermarket.n == selectedSupermarket?.n}" v-for="supermarket in supermarkets" :key="supermarket.n" @click="selectedSupermarket=supermarket; select()">

							<table style="width: 100%;">
								<tr :class="{'w3-hover-amber': supermarket.n == selectedSupermarket?.n}">
									<td style="width: 80px">
										<img v-bind:src="supermarket.i" class="w3-circle" style="width: 60px">
									</td>
									<td>
										<span class="w3-large">
											{{supermarket.c}}
										</span><br>
										<span class="w3-text-blue-gray">
											{{supermarket.d.length}} producten
											<span v-if="supermarket.notFound > 0"> - Let op, {{supermarket.notFound}} product{{supermarket.notFound==1?"":"en"}} niet gevonden.</span>
										</span>
									</td>
									<td class="w3-xlarge w3-right-align" style="width: 80px;">
										{{ supermarket.totalPrice | formatPrice }}
									</td>
								</tr>
							</table>

						</li>
					</ul>
					<p class="w3-center">
						Waarom sommige <a href="#" onclick="alert('Een aantal grote supermarktketens zoals LIDL, Nettorama, Boni maar ook online bezorgservices zoals Picnic en Crisp hebben geen prijzen op hun website staan. Hierdoor kunnen ze ook niet meegenomen worden in de prijsvergelijking van Checkjebon.nl.'); return false;" target="_blank">supermarkten ontbreken</a>.
					</p>
				</div>
			</div>
			
			<div class="w3-blue-grey" id="shoppinglist" v-show="selectedSupermarket">
				<div class="w3-container w3-content w3-padding-64" style="max-width: 800px">
					
					<h2 class="w3-wide w3-center caps">{{ selectedSupermarket?.c }}</h2>
					
					<ul class="w3-ul w3-card-4 w3-light-gray w3-hoverable">
						<li class="w3-bar" v-for="product in products">

							<table style="width: 100%;" :class="{'w3-text-blue-gray': !product.link || product.checked, 'strike': product.checked}">
								<tr>
									<td style="width: 40px">
										<input type="checkbox" class="w3-check" :checked="product.checked" @click="check(product, $event)">
									</td>
									<td>
										<span class="w3-large">
											<a v-bind:href="product.link" :title="product.originalProduct" target="_blank" class="noline">
												{{ product.name }}
											</a>
										</span><br>
										<span class="w3-text-blue-gray">
											<i class="fa fa-pencil" style="cursor: pointer;" @click="edit(product, $event)"></i>
											{{ product.size | formatAmount }}
										</span>
									</td>
									<td class="w3-xlarge w3-right-align" style="width: 80px;">
										<a v-bind:href="product.link" target="_blank" class="noline">
											{{ !product.link && product.price ? "~" : "" }}{{ product.price | formatPrice }}
										</a>
									</td>
								</tr>
							</table>

						</li>
					</ul>
					
					<p class="w3-center">
						<button class="w3-btn w3-ripple w3-amber" @click="share"><i class="fa fa-share-alt"></i> Deel je boodschappenlijst</button>
					</p>

				</div>
			</div>

			<div class="w3-light-gray">
				<div class="w3-container w3-content w3-padding-64" style="max-width: 800px">
					<h2 class="w3-wide w3-center caps">Over Checkjebon.nl</h2>
					<p class="w3-opacity w3-center">Prijzen in supermarkten veranderen regelmatig, Checkjebon.nl werkt ze <abbr :title="'Laatst bijgewerkt op ' + pricesLastUpdated">dagelijks</abbr> bij en vertelt je waar je het goedkoopst uit bent voor je boodschappen. Verder is Checkjebon.nl een <a href="https://www.github.com/supermarkt/checkjebon/" target="_new">open source project</a> en ook de gebruikte <a href="https://github.com/supermarkt/checkjebon/blob/main/data/supermarkets.json" target="_new">supermarktdata</a> is gratis te gebruiken. Neem <a href="mailto:info@checkjebon.nl">contact op</a> voor vragen of suggesties.</p>
				</div>
			</div>
		</div>
		<script src="/js/site/script.js"></script>
	</body>
</html>